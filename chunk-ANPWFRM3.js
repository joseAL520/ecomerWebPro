import{a as P,b as m,c as O,d as F,g as S,i as E,j,o as I,q as L}from"./chunk-BX3U6CNW.js";import{A as a,B as s,F as g,H as c,K as o,L as r,M as l,Q as _,R as u,T as p,V as f,j as N,la as w,m as D,n as b,oa as R,q as x,r as C,va as q,wa as y,ya as V,za as M}from"./chunk-RZ7QCS2H.js";var A=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=x({type:e,selectors:[["app-layout-page"]],decls:1,vars:0,template:function(n,i){n&1&&l(0,"router-outlet")},dependencies:[q]})}return e})();function W(e,v){if(e&1&&(o(0,"span",16),p(1),r()),e&2){let t=u();a(),f(" ",t.getFieldError("email")," ")}}function Y(e,v){if(e&1&&(o(0,"span",16),p(1),r()),e&2){let t=u();a(),f(" ",t.getFieldError("password")," ")}}var T=(()=>{class e{fb;router;authService;myForm;constructor(t,n,i){this.fb=t,this.router=n,this.authService=i,this.myForm=this.fb.group({email:["",[m.required,m.email]],password:["",[m.required]]})}isValidField(t){return this.myForm.controls[t].errors&&this.myForm.controls[t].touched}getFieldError(t){if(!this.myForm.controls[t])return null;let n=this.myForm.controls[t].errors||{};for(let i of Object.keys(n))switch(i){case"required":return"este campo es requerido";case"email":return"el formato de correo no corresponde"}return""}onSave(){let t=this.myForm.value.email,n=this.myForm.value.password;this.myForm.valid&&this.authService.login(t,n).pipe(N(i=>{!i||Object.keys(i).length===0?alert("las credenciales no Coinciden"):this.router.navigate(["/ecommer/eco"])})).subscribe()}registrer(){this.router.navigate(["/auth/new-account"])}static \u0275fac=function(n){return new(n||e)(s(I),s(y),s(M))};static \u0275cmp=x({type:e,selectors:[["app-login-page"]],decls:21,vars:3,consts:[[1,"container"],[1,"content_login"],[1,"content_img"],["src","https://images.unsplash.com/photo-1539278383962-a7774385fa02?q=80&w=1374&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","alt","img",1,"img_login"],[1,"content_login_form"],["src","https://cdn-icons-png.flaticon.com/512/63/63966.png","alt","logo",1,"img_logo"],[1,"login_form",3,"ngSubmit","formGroup"],[1,"label_welcome"],[1,"input_box"],["type","text","placeholder","Correo","formControlName","email"],["src","https://cdn-icons-png.flaticon.com/512/17041/17041169.png","alt","img User"],["class","containr-form text-validator",4,"ngIf"],["type","password","placeholder","Contrase\xF1a","formControlName","password"],["src","https://cdn-icons-png.flaticon.com/512/3416/3416040.png","alt","img password"],["type","submit",1,"btn_submit"],[1,"btn-register",3,"click"],[1,"containr-form","text-validator"]],template:function(n,i){n&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),l(3,"img",3),r(),o(4,"div",4),l(5,"img",5),o(6,"form",6),_("ngSubmit",function(){return i.onSave()}),o(7,"label",7),p(8,"Bienvenido a \u0432\u0435\u043D\u0442\u0430"),r(),o(9,"div",8),l(10,"input",9)(11,"img",10),g(12,W,2,1,"span",11),r(),o(13,"div",8),l(14,"input",12)(15,"img",13),g(16,Y,2,1,"span",11),r(),o(17,"button",14),p(18,"Login"),r()(),o(19,"button",15),_("click",function(){return i.registrer()}),p(20,"Registrarse"),r()()()()),n&2&&(a(6),c("formGroup",i.myForm),a(6),c("ngIf",i.isValidField("email")),a(4),c("ngIf",i.isValidField("password")))},dependencies:[w,S,P,O,F,E,j],styles:["*[_ngcontent-%COMP%]{color:#000}.container[_ngcontent-%COMP%]{min-height:45vh;min-width:50vh;border:2px solid black;margin:70px 140px;border-radius:20px}.content_login[_ngcontent-%COMP%], .content_img[_ngcontent-%COMP%]{display:flex}.img_login[_ngcontent-%COMP%]{width:500px;height:500px;object-fit:cover;border-radius:17px 0 200px 17px;box-shadow:5px 0 5px #0003}.content_login_form[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;align-content:center;justify-content:center;align-items:center;margin:0 100px}.img_logo[_ngcontent-%COMP%]{width:50px;height:50px;border:1px solid rgb(0,0,0);padding:20px;border-radius:50%;margin-bottom:20px}.label_welcome[_ngcontent-%COMP%]{font-size:20px}.input_box[_ngcontent-%COMP%]{position:relative;width:340px;height:50px;margin:20px 0}.input_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:40%;outline:none;border:2px solid rgba(128,128,128,.555);border-radius:40px;font-size:16px;padding:20px 45px 20px 20px}.input_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:15px;right:-45px}.login_form[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;align-content:center;justify-content:center;align-items:center}.btn_submit[_ngcontent-%COMP%]{width:200px;padding:15px;font-size:15px;border-radius:40px;margin:30px 0;border:1px solid #d1d1d1d9;cursor:pointer}.btn-register[_ngcontent-%COMP%]{width:100px;padding:15px;font-size:12px;border-radius:40px;border:1px solid #d1d1d1d9;cursor:pointer}.text-validator[_ngcontent-%COMP%]{font-size:12px;color:#ff00009a;padding:3px 10px;margin-left:30px}@media (max-width: 720px){.container[_ngcontent-%COMP%]{margin:10px;border:none}.content_login[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;align-content:center;justify-content:center;align-items:center;padding:100px;margin:20px;border:2px solid black;border-radius:10%}.content_img[_ngcontent-%COMP%]{display:none}.content_login_form[_ngcontent-%COMP%]{display:flex;margin:10px}.img_login[_ngcontent-%COMP%]{display:none}.input_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%}.input_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{right:20px}}"]})}return e})();var k=(()=>{class e{emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$";constructor(){}isValidField(t,n){return t.controls[n].errors&&t.controls[n].touched}getFieldError(t,n){if(!t.controls[n])return null;let i=t.controls[n].errors||{};for(let d of Object.keys(i))switch(d){case"required":return"este campo es requerido";case"minlength":return`Minimo ${i.minlength.requiredLength} caracteres `;case"notEqual":return"Las contrase\xF1as no son iguales";case"invalidEmail":return"El formato de correo no coincide"}return""}emailFormatValidator(){return t=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(t.value)?null:{invalidEmail:!0}}ifFieldOneEqualFieldTwo(t,n){return i=>{let d=i.get(t)?.value,H=i.get(n)?.value;return d!==H?(i.get(n)?.setErrors({notEqual:!0}),{notEqual:!0}):(i.get(n)?.setErrors(null),null)}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function K(e,v){if(e&1&&(o(0,"span",16),p(1),r()),e&2){let t=u();a(),f(" ",t.getFieldError("email")," ")}}function Q(e,v){if(e&1&&(o(0,"span",16),p(1),r()),e&2){let t=u();a(),f(" ",t.getFieldError("password")," ")}}function X(e,v){if(e&1&&(o(0,"span",16),p(1),r()),e&2){let t=u();a(),f(" ",t.getFieldError("password2")," ")}}var G=(()=>{class e{fb;router;authService;validatorService;myForm;constructor(t,n,i,d){this.fb=t,this.router=n,this.authService=i,this.validatorService=d,this.myForm=this.fb.group({email:["",[m.required,this.validatorService.emailFormatValidator()]],password:["",[m.required,m.minLength(8)]],password2:["",[m.required]],role_name:[""]},{validators:[this.validatorService.ifFieldOneEqualFieldTwo("password","password2")]})}get currientUser(){return this.myForm.value}isValidField(t){return this.validatorService.isValidField(this.myForm,t)}getFieldError(t){return this.validatorService.getFieldError(this.myForm,t)}onSave(){if(this.myForm.valid)return this.authService.register(this.currientUser).subscribe(()=>this.router.navigate(["/ecommer/eco"]))}static \u0275fac=function(n){return new(n||e)(s(I),s(y),s(M),s(k))};static \u0275cmp=x({type:e,selectors:[["app-register-page"]],decls:23,vars:4,consts:[[1,"container"],[1,"content_login"],[1,"content_login_form"],["src","https://cdn-icons-png.flaticon.com/512/63/63966.png","alt","logo",1,"img_logo"],[1,"login_form",3,"ngSubmit","formGroup"],[1,"label_welcome"],[1,"input_box"],["type","text","placeholder","Correo","formControlName","email"],["src","https://cdn-icons-png.flaticon.com/512/17041/17041169.png","alt","img User"],["class","containr-form text-validator",4,"ngIf"],["type","password","placeholder","Contrase\xF1a","formControlName","password"],["src","https://cdn-icons-png.flaticon.com/512/3416/3416040.png","alt","img password"],["type","password","placeholder","Contrase\xF1a","formControlName","password2"],["type","submit",1,"btn_submit"],[1,"content_img"],["src","https://images.unsplash.com/photo-1524508762098-fd966ffb6ef9?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","alt","img",1,"img_login"],[1,"containr-form","text-validator"]],template:function(n,i){n&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),l(3,"img",3),o(4,"form",4),_("ngSubmit",function(){return i.onSave()}),o(5,"label",5),p(6,"Bienvenido a \u0432\u0435\u043D\u0442\u0430"),r(),o(7,"div",6),l(8,"input",7)(9,"img",8),g(10,K,2,1,"span",9),r(),o(11,"div",6),l(12,"input",10)(13,"img",11),g(14,Q,2,1,"span",9),r(),o(15,"div",6),l(16,"input",12)(17,"img",11),g(18,X,2,1,"span",9),r(),o(19,"button",13),p(20,"Registrarme"),r()()(),o(21,"div",14),l(22,"img",15),r()()()),n&2&&(a(4),c("formGroup",i.myForm),a(6),c("ngIf",i.isValidField("email")),a(4),c("ngIf",i.isValidField("password")),a(4),c("ngIf",i.isValidField("password2")))},dependencies:[w,S,P,O,F,E,j],styles:["*[_ngcontent-%COMP%]{color:#000}.container[_ngcontent-%COMP%]{min-height:45vh;min-width:50vh;border:2px solid black;margin:70px 140px;border-radius:20px}.content_login[_ngcontent-%COMP%], .content_img[_ngcontent-%COMP%]{display:flex}.img_login[_ngcontent-%COMP%]{width:542px;height:539px;object-fit:cover;border-radius:0 17px 17px 200px;box-shadow:-5px 5px 5px #0003}.content_login_form[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;align-content:center;justify-content:center;align-items:center;margin:10px 100px}.img_logo[_ngcontent-%COMP%]{width:50px;height:50px;border:1px solid rgb(0,0,0);padding:20px;border-radius:50%;margin-bottom:20px}.label_welcome[_ngcontent-%COMP%]{font-size:20px}.input_box[_ngcontent-%COMP%]{position:relative;width:340px;height:50px;margin:20px 0}.input_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:40%;outline:none;border:2px solid rgba(128,128,128,.555);border-radius:40px;font-size:16px;padding:20px 45px 20px 20px}.input_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:15px;right:-45px}.login_form[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;align-content:center;justify-content:center;align-items:center}.btn_submit[_ngcontent-%COMP%]{width:200px;padding:15px;font-size:15px;border-radius:40px;margin:30px 0;border:1px solid #d1d1d1d9;cursor:pointer}.text-validator[_ngcontent-%COMP%]{font-size:12px;color:#ff00009a;padding:3px 10px;margin-left:30px}@media (max-width: 720px){.container[_ngcontent-%COMP%]{margin:10px;border:none}.content_login[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;align-content:center;justify-content:center;align-items:center;padding:100px;margin:20px;border:2px solid black;border-radius:10%}.content_img[_ngcontent-%COMP%]{display:none}.content_login_form[_ngcontent-%COMP%]{display:flex;margin:10px}.img_login[_ngcontent-%COMP%]{display:none}.input_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%}.input_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{right:20px}}"]})}return e})();var ee=[{path:"",component:A,children:[{path:"login",component:T},{path:"new-account",component:G},{path:"**",redirectTo:"login"}]}],B=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=C({type:e});static \u0275inj=b({imports:[V.forChild(ee),V]})}return e})();var Ce=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=C({type:e});static \u0275inj=b({imports:[R,B,L]})}return e})();export{Ce as AuthModule};
